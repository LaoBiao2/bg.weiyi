<div class="nav">
    <div class="logo"></div>
    <div class="user-info clearfix">
        <div class="head-img">
            <div class="bg-img">
                <a href="javascript:;"><span>修改<br/>头像</span></a>
            </div>
            <input type="file" id="headerUpload" onchange="xmTanUploadImg(this)">
            <img src="/images/head_img.jpg" alt="" id="headerImg" class="img-index">
        </div>
        <div class="txt">
            <b>Chen zihao</b>
            <span class="Unauthorized">已认证</span>
            <p>ID: 13800138000</p>
        </div>
        <div class="account clearfix">
            <span class="fl">真实账户</span>
            <b class="fr">$0.00</b>
        </div>
    </div>
    <div class="btn-box">
        <a href="/deposit" class="deposit">存款</a>
        <a href="/draw" class="draw">取款</a>
    </div>
    <ul class="fr">
        <li class="nav-li li-1">
            <a href="/">
                <span></span>
                个人资料
            </a>
        </li>
        <li class="nav-li li-2 active">
            <a href="javascript:;">
                <span></span>
                资金交易
                <i></i>
            </a>
            <ul class="sub-menu">
                <li>
                    <a href="/deposit">在线存款</a>
                </li>
                <li>
                    <a href="/draw">极速取款</a>
                </li>
            </ul>
        </li>
        <li class="nav-li li-3">
            <a href="javascript:;">
                <span></span>
                历史记录
                <i></i>
            </a>
            <ul class="sub-menu">
                <li>
                    <a href="/allRecords">全部记录</a>
                </li>
                <li>
                    <a href="/accessRecords">存取记录</a>
                </li>
            </ul>
        </li>
        <li class="nav-li li-4">
            <a href="/resetPwd">
                <span></span>
                修改密码
            </a>
        </li>
        <li class="nav-li li-5">
            <a href="javascript:;">
                <span></span>
                寻求顾问支持
            </a>
        </li>
        <li class="nav-li li-6">
            <a href="javascript:;">
                <span></span>
                注销
            </a>
        </li>
    </ul>
</div>
<script>
    $(".nav ul .nav-li").click(function () {
        $(this).addClass("active").siblings().removeClass("active");
    })
    $(".head-img .bg-img a").click(function () {
        $("#headerUpload").trigger("click");
    })
    $(function () {
        //判断浏览器是否支持FileReader接口
        if (typeof FileReader == 'undefined') {
            console.log("<h1>当前浏览器不支持FileReader接口</h1>");
            //使选择控件不可操作
            $(".head-img #headerImg").setAttribute("disabled", "disabled");
            $("#cardFront-img").setAttribute("disabled", "disabled");
            $("#cardBack-img").setAttribute("disabled", "disabled");
        }
    })
    function xmTanUploadImg(obj) {
        var file = obj.files[0];

        // console.log(obj);console.log(file);
        // console.log("file.size = " + file.size);  //file.size 单位为byte

        var reader = new FileReader();

        //读取文件过程方法
        reader.onloadstart = function (e) {
            console.log("开始读取....");
        }
        reader.onprogress = function (e) {
            console.log("正在读取中....");
        }
        reader.onabort = function (e) {
            console.log("中断读取....");
        }
        reader.onerror = function (e) {
            console.log("读取异常....");
        }
        reader.onload = function (e) {
            console.log("成功读取....");

            // var img = $("#cardFront-img");
            $(obj).parent().find(".img-index").attr("src", e.target.result);
            //或者 img.src = this.result;  //e.target == this
        }
        reader.readAsDataURL(file)
    }
</script>